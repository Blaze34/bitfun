<%= form_for(@fun) do |f| %>

  <% if @fun.errors.any? %>
    <div class="alert alert-error">
      <a class="close" data-dismiss="alert">&#215;</a>
      <strong><%= pluralize(@fun.errors.count, "error") %> prohibited this fun from being saved:</strong>
      <% @fun.errors.full_messages.each do |msg| %>
            <%= content_tag :div, msg, :id => "flash_#error" %>
      <% end %>
    </div>
  <% end %>

    <%= f.label :title %>
    <%= f.text_field :title, class: "input-xxlarge" %>

    <ul class="nav nav-tabs" id="type">
      <li><a href="#text" data-toggle="tab">Text</a></li>
      <li><a href="#image" data-toggle="tab">Image</a></li>
      <li><a href="#video" data-toggle="tab">Video</a></li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane active" id="text">
        <%= f.hidden_field :content_type, value: 'Post' %>
        <%= f.fields_for :content_attributes do |f| %>
            <%= f.label :body %>
            <%= f.text_area :body, class: "input-xxlarge", rows: 5%>
        <% end %>

      </div>
      <div class="tab-pane" id="image">
        <%= f.hidden_field :content_type, value: 'Image' %>
        <%= f.fields_for :content_attributes do |f| %>
            <%= f.label :image %>
            <%= f.file_field :image%>
            <br> OR
            <%= f.label :url %>
            <%= f.text_field :url%>
        <% end %>
      </div>
      <div class="tab-pane" id="video">
        <%= f.hidden_field :content_type, value: 'Video' %>
        <%= f.fields_for :content_attributes do |f| %>
            <%= f.label :video %>
            <%= f.file_field :video%>
            <br> OR
            <%= f.label :video_url %>
            <%= f.text_field :video_url%>
        <% end %>
      </div>
    </div>


    <%= f.label :tag_list, "Tags (separated by commas)" %>
    <%= f.text_field :tag_list, class: "input-xxlarge" %><br />

    <%= f.submit class: "btn btn-primary" %>
<% end %>